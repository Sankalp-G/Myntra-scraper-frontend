"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892,1957],{77492:function(e,n,t){t.d(n,{o:function(){return s}});var r=t(29901),o=t(24161),a=t(47642),i=t(47381),l=t(61250),s=r.forwardRef((function(e,n){var t=e.children,r=e.contentWrapperCssClasses,s=void 0===r?"flex-grow overflow-hidden":r,u=e.headerControl,c=e.headerWrapperCssClasses,d=void 0===c?"bg-white h-16 flex items-center px-6 border-b border-gray-100 flex-shrink-0":c,f=e.id,m=(0,o.useRecoilValue)(a.qx);return(0,l.jsxs)("div",{id:f,ref:n,"data-onboarding-watch":"create_menu_new_button",className:"absolute inset-0 flex flex-col w-full overflow-y-auto",children:[u&&(0,l.jsx)("div",{className:d,children:u}),m?(0,l.jsx)(i.a,{size:"lg"}):(0,l.jsx)("div",{className:s,children:t})]})}));s.displayName="PageScaffold"},96421:function(e,n,t){t.d(n,{s:function(){return s}});var r=t(89303),o=(t(29901),t(24161)),a=t(36243),i=t(28725),l=t(61250),s=function(){var e=(0,o.useRecoilState)(a.Hw),n=(0,r.Z)(e,2),t=n[0],s=n[1];return(0,l.jsx)(i.n,{icon:"bounding-box",title:"Bounding box",onClick:function(){s(!t)},iconColorClass:t?"text-actionPrimary":"text-gray-600"})}},2892:function(e,n,t){t.r(n);var r=t(89303),o=t(55312),a=t(24642),i=t.n(a),l=t(59715),s=t(71108),u=t(26766),c=t(62295),d=t(83849),f=t.n(d),m=t(79120),p=t(77179),v=t.n(p),h=t(53341),x=t(88406),b=t(26929),w=t(29901),g=t(34742),k=t(24161),C=t(389),E=t(88549),y=t(77492),j=t(96421),O=t(63738),S=t(40699),I=t(60919),M=t(28725),N=t(37576),F=t(70553),T=t(93065),P=t(99729),R=t(83349),q=t(59407),L=t(36359),_=t(48097),A=t(25044),U=t(19470),Z=t(11957),D=t(98326),G=t(18807),B=t(9725),V=t(48612),K=t(36243),W=t(13794),z=t(47642),Q=t(48319),H=t(24450),J=t(95334),Y=t(28942),X=t(30337),$=t(61250),ee=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(7870).then(t.bind(t,97870)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[97870]},modules:["animation/[id].tsx -> @/components/features/upload/editor-handback-container"]}}),ne=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(6627),t.e(2762),t.e(1809)]).then(t.bind(t,99547)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[99547]},modules:["animation/[id].tsx -> @/components/features/palette-swapper/color-palette-confirmation-modal"]}}),te=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(5150).then(t.bind(t,85150)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[85150]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-export-panel"]}}),re=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4550),t.e(1666)]).then(t.bind(t,41666)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[41666]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-qr-code"]}}),oe=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(467),t.e(2102)]).then(t.bind(t,82102)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[82102]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-embed"]}}),ae=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(8833).then(t.bind(t,88833)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[88833]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-versions"]}}),ie=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(5710),t.e(7134),t.e(8560),t.e(5743)]).then(t.bind(t,5743)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[5743]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-segment-container"]}}),le=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(7134),t.e(8560),t.e(4911)]).then(t.bind(t,59149)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[59149]},modules:["animation/[id].tsx -> @/components/features/lottie-in-context/lottie-mockup-panel"]}}),se=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7713),t.e(7701),t.e(4976)]).then(t.bind(t,84976)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[84976]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-color-palettes"]}}),ue=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(243),t.e(8778),t.e(9229),t.e(4270),t.e(8176),t.e(5627),t.e(9455),t.e(3040),t.e(3789)]).then(t.bind(t,53789)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[53789]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-file-info"]}}),ce=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(t.bind(t,67508)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[67508]},modules:["animation/[id].tsx -> @/components/page/animation/comment/comment-pushover"]}}),de=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(9268).then(t.bind(t,49268)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[49268]},modules:["animation/[id].tsx -> @/components/page/animation/background-color-control"]}}),fe=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(7134)]).then(t.bind(t,87134)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[87134]},modules:["animation/[id].tsx -> @/components/features/lottie-in-context/lottie-mockup-preview"]}}),me=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(2330),t.e(2208)]).then(t.bind(t,62330)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[62330]},modules:["animation/[id].tsx -> @/components/page/animation/player/animation-player"]}}),pe=(0,x.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(467),t.e(7767),t.e(4550),t.e(2762),t.e(9421),t.e(6540),t.e(4765),t.e(481)]).then(t.bind(t,17713)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[17713]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-header"]}}),ve=function(){var e,n,t,o,a,i,d,p,x,E,ve,he,xe,be,we,ge,ke,Ce,Ee=(0,w.useState)(),ye=Ee[0],je=Ee[1],Oe=(0,k.useRecoilState)(K.sI),Se=(0,r.Z)(Oe,2),Ie=Se[0],Me=Se[1],Ne=(0,w.useState)(),Fe=Ne[0],Te=Ne[1],Pe=(0,w.useState)(),Re=Pe[0],qe=Pe[1],Le=(0,k.useSetRecoilState)(z.E4),_e=(0,k.useSetRecoilState)(K.GG),Ae=(0,w.useState)(null),Ue=Ae[0],Ze=Ae[1],De=(0,w.useState)(null),Ge=De[0],Be=De[1],Ve=(0,w.useState)(!1),Ke=Ve[0],We=Ve[1],ze=(0,k.useResetRecoilState)(K.h3),Qe=(0,k.useResetRecoilState)(K.m9),He=(0,k.useResetRecoilState)(K.lS),Je=(0,k.useSetRecoilState)(Q.QJ),Ye=(0,w.useState)(!1),Xe=Ye[0],$e=Ye[1],en=(0,w.useRef)(!1),nn=(0,w.useRef)(!1),tn=(0,k.useSetRecoilState)(z.qx),rn=(0,w.useState)(),on=rn[0],an=rn[1],ln=(0,w.useState)(null),sn=ln[0],un=ln[1],cn=(0,w.useRef)(!1),dn=(0,N.p)(),fn=(0,h.useRouter)(),mn=fn.query,pn=mn.frame,vn=mn.sort,hn=(0,U.d)(),xn=hn.done,bn=hn.isLoaded,wn=hn.setWelcomeText,gn=hn.showChecklist,kn=hn.showFirstPendingTask,Cn=hn.state,En=fn.query,yn=En.handback_id,jn=En.id,On=(0,P.a)(),Sn=(0,D.cF)(),In=Sn.activeWorkspaceId,Mn=Sn.setActiveWorkspace,Nn=Sn.workspaces,Fn=(0,l.SS)(c.AD.ENABLE_ANIMATION_NAVIGATION_SHORTCUTS),Tn=(0,C.aM)({query:G.wP,variables:{id:jn},pause:!jn}),Pn=(0,r.Z)(Tn,1)[0],Rn=(0,C.aM)({query:G.xQ,variables:{id:jn,sort:vn,folderId:null===(e=Pn.data)||void 0===e||null===(n=e.file.folder)||void 0===n?void 0:n.id},pause:!jn||!Pn.data||!Fn.on}),qn=(0,r.Z)(Rn,1)[0],Ln=(0,L.w)(),_n=(0,r.Z)(Ln,2),An=_n[0],Un=_n[1],Zn=(0,A._)("animation_sidebar_panel_state",{}),Dn=(0,r.Z)(Zn,1)[0],Gn=(0,w.useCallback)((function(e){e?(Ze(v()(e)),un(v()(e))):(Ze(null),un(null))}),[]);(0,_.Z)({key:"k",action:function(){var e;if(!Fn.off)if(null!==(e=qn.data)&&void 0!==e&&e.fileAboveAndBelowId.nextAnimation)fn.query.id=qn.data.fileAboveAndBelowId.nextAnimation,fn.push({pathname:fn.pathname,query:fn.query}),nn.current=!1;else if(!en.current){var n=(0,$.jsx)("div",{children:"No more animations to go to"});null==dn||dn.pushCustom(n,1e3,"bg-gray-900","text-white"),en.current=!0}},dependencies:[qn,Fn.off],takesPrecedence:!0}),(0,_.Z)({key:"j",action:function(){var e;if(!Fn.off)if(null!==(e=qn.data)&&void 0!==e&&e.fileAboveAndBelowId.prevAnimation)fn.query.id=qn.data.fileAboveAndBelowId.prevAnimation,fn.push({pathname:fn.pathname,query:fn.query}),en.current=!1;else if(!nn.current){var n=(0,$.jsx)("div",{children:"No more animations to go to"});null==dn||dn.pushCustom(n,1e3,"bg-gray-900","text-white"),nn.current=!0}},dependencies:[qn,Fn.off],takesPrecedence:!0}),(0,w.useEffect)((function(){if(qn.data&&qn.data.fileAboveAndBelowId.nextAnimation&&!cn.current&&Fn.on){var e,n="next-prev-toast-".concat(null===(e=On.user)||void 0===e?void 0:e.id),t=localStorage.getItem(n),r=(new Date).getTime();if(!t||r-parseInt(t,10)>12096e5){localStorage.setItem(n,r.toString());var o=(0,$.jsxs)("div",{children:["Use the ",(0,$.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"J"})," and"," ",(0,$.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"K"})," keys to go to the next or previous animation"]});null==dn||dn.pushCustom(o,3e3,"bg-gray-900","text-white")}cn.current=!0}}),[dn,Fn.on,null===(t=On.user)||void 0===t?void 0:t.id,qn.data]),(0,w.useEffect)((function(){if(Pn.data){var e,n,t,r=null===(e=Pn.data.file.folder)||void 0===e?void 0:e.id,o=null===(n=Pn.data.file.folder)||void 0===n?void 0:n.name,a=Pn.data.file.project.id,i=Pn.data.file.project.title,l=null!==(t=Pn.data.file.project.isPrivate)&&void 0!==t&&t,s=Pn.data.file.project.workspaceId,u=Nn.some((function(e){var n;return e.id===(null===(n=Pn.data)||void 0===n?void 0:n.file.project.workspaceId)}));s&&u&&s!==In&&Mn(s,!1),Je({type:r?"folder":"project",name:r?o:i,folderId:r,folderName:o,projectId:a,projectTitle:i,isPrivate:l,workspaceId:s})}}),[Pn.data,Je,In,Mn,Nn]);var Bn=(0,w.useState)("#f8fafc"),Vn=Bn[0],Kn=Bn[1],Wn=(0,k.useRecoilState)(K.h3),zn=(0,r.Z)(Wn,1)[0],Qn=(0,T.a)({scopes:(null==Ie?void 0:Ie.animationPermissionScopes)||[]}),Hn=Qn.canDownload,Jn=Qn.canFullAccess,Yn=Qn.canView,Xn=(0,w.useState)({id:"",showDescOnCollection:!1,description:"",descriptionModifiedBy:null}),$n=Xn[0],et=Xn[1];(0,w.useEffect)((function(){var e;if((ze(),Qe(),Pn.fetching&&tn(!0),!Pn.fetching)&&(tn(!1),An===H.s.NONE&&window.innerWidth>768))if(Dn&&null!==(e=On.user)&&void 0!==e&&e.id&&Dn[On.user.id]){var n=Dn[On.user.id];n===H.s.LOTTIE_MOCKUP&&Un(H.s.SEGMENT_MOCKUP),Un(n)}else Un(H.s.DOWNLOAD);return function(){}}),[ze,Qe,Un,Pn]);var nt=(0,w.useCallback)((function(e){try{void 0!==(0,m.H3)(e)&&Kn(e)}catch(e){Kn("#f8fafc")}}),[]);(0,w.useEffect)((function(){var e;if(null!=zn&&zn.fileObject){je(zn.fileObject.url),Te(zn.fileObject.metadata),qe(zn.fileObject.attributes),Be(zn.fileObject),an(zn.tags),nt(zn.backgroundColor);var n=zn.fileObject.url,t=n.substring(n.lastIndexOf("/")+1,n.indexOf("?")).split(".").pop();_e("lottie"===t)}else if(Pn.data&&!Pn.fetching){var r;je(Pn.data.file.fileObject.url),Me(Pn.data.file),Le({type:"project",id:Pn.data.file.project.id}),Te(Pn.data.file.fileObject.metadata),qe(Pn.data.file.fileObject.attributes),Be(Pn.data.file.fileObject),an(Pn.data.file.currentVersion.tags),et({id:Pn.data.file.id,showDescOnCollection:Pn.data.file.showDescOnCollection,description:Pn.data.file.description,descriptionUpdatedAt:null===(r=Pn.data.file)||void 0===r?void 0:r.descriptionUpdatedAt,descriptionModifiedBy:Pn.data.file.descriptionModifiedBy}),nt(Pn.data.file.backgroundColor);var o=Pn.data.file.fileObject.url,a=o.substring(o.lastIndexOf("/")+1,o.indexOf("?")).split(".").pop();_e("lottie"===a)}else Pn.error&&(0,X.w)(Pn.error);if(null!==(e=Pn.data)&&void 0!==e&&e.file.upgradeRequired)throw new F.K}),[Pn,zn,_e,Me,Le,nt]),(0,w.useEffect)((function(){var e;null!==(e=Pn.data)&&void 0!==e&&e.file.id&&(0,u.Z9)(new u.Aj({fileId:Pn.data.file.id,projectId:Pn.data.file.project.id,workspaceId:Pn.data.file.project.workspaceId,url:window.location.href}))}),[null===(o=Pn.data)||void 0===o?void 0:o.file.id,null===(a=Pn.data)||void 0===a?void 0:a.file.project.id,null===(i=Pn.data)||void 0===i?void 0:i.file.project.workspaceId]);var tt=(0,w.useState)(!1),rt=tt[0],ot=tt[1],at=(0,w.useState)(!1),it=at[0],lt=at[1],st=(0,g.r)(),ut=(0,k.useRecoilState)(W.vQ),ct=(0,r.Z)(ut,2)[1],dt=(0,w.useCallback)((function(){fn.query.comment&&(delete fn.query.comment,fn.push({pathname:fn.pathname,query:fn.query},void 0,{shallow:!0}))}),[fn]),ft=(0,w.useCallback)((function(){Un(H.s.NONE),fn.query.panel&&(delete fn.query.panel,fn.push({pathname:fn.pathname,query:fn.query},void 0,{shallow:!0}))}),[fn,Un]),mt=(0,w.useCallback)((function(e){return function(){An===e?ft():(Un(e),fn.query.panel!==e&&(fn.query.panel=e,fn.push({pathname:fn.pathname,query:fn.query},void 0,{shallow:!0})))}}),[fn,ft,An,Un]);(0,w.useEffect)((function(){ct(!1),$e(!1),Gn(null),dt()}),[An,ct,$e,dt,Gn]),(0,_.Z)({key:"c",action:function(){An!==H.s.COMMENTS?mt(H.s.COMMENTS):An===H.s.COMMENTS&&ft()},dependencies:[mt,ft,An]});var pt=(0,C.aM)({query:B.g,variables:{id:yn},pause:!yn}),vt=(0,r.Z)(pt,1)[0];(0,w.useEffect)((function(){Pn.data&&Ie&&(An!==H.s.COMMENTS&&fn.query.comment&&(mt(H.s.COMMENTS)(),fn.push({pathname:fn.pathname,query:fn.query},void 0,{shallow:!0})),Hn()||An!==H.s.DOWNLOAD||mt(H.s.COMMENTS)(),Hn()||An!==H.s.EMBED||mt(H.s.COMMENTS)(),fn.query.edit_description&&(An!==H.s.FILE_INFO&&mt(H.s.FILE_INFO)(),$e(!0),delete fn.query.edit_description,fn.replace({pathname:fn.pathname,query:fn.query},void 0,{shallow:!0})))}),[Ie,An,fn,mt,Xe,Hn,Pn.data]);var ht=(0,w.useCallback)((function(){rt?(ot(!1),st.exit()):(ot(!0),ft(),st.enter())}),[ft,st,rt]),xt=(0,w.useCallback)((function(e,n){n===st&&ot(!!e)}),[st]);(0,w.useEffect)((function(){var e;Ie&&("color-palette"!==fn.query.from||null!==(e=Cn.tasks[Y.O.CUSTOMIZE_COLOR])&&void 0!==e&&e.done||(xn(Y.O.CUSTOMIZE_COLOR),gn(!0)),"download"===fn.query.from||"embed"===fn.query.from||!bn||Cn.seen||Cn.show||(wn(Cn.newToOnboarding?"Welcome! Learn all about our platform’s most helpful features with this checklist ✨":"Level up your motion design game by exploring our platform’s most helpful features in this checklist ✨"),gn(!0),kn()))}),[Ie,Cn,xn]);var bt=(0,w.useCallback)((function(){lt(!it)}),[it,lt]),wt=(0,w.useRef)(null),gt=(0,w.useMemo)((function(){return(null==zn?void 0:zn.id)||(null==Ie?void 0:Ie.currentVersionId)||""}),[null==zn?void 0:zn.id,null==Ie?void 0:Ie.currentVersionId]),kt=(0,w.useMemo)((function(){var e,n;return{entityId:gt,entityGroupId:(null==Ie?void 0:Ie.id)||jn,isEnabled:null==zn||!zn.id||zn.id===(null==Ie?void 0:Ie.currentVersionId),workspaceId:(null==Ie||null===(e=Ie.project)||void 0===e||null===(n=e.workspace)||void 0===n?void 0:n.id)||""}}),[gt,null==zn?void 0:zn.id,null==Ie?void 0:Ie.currentVersionId,null==Ie?void 0:Ie.id,null==Ie||null===(d=Ie.project)||void 0===d||null===(p=d.workspace)||void 0===p?void 0:p.id,jn]),Ct=(0,R.X0)(kt),Et=(0,R.us)(kt),yt=(0,R.es)(kt),jt=(0,R.VP)(kt),Ot=(0,R.UR)(kt),St=(0,R.OL)(kt),It=(0,R._i)(kt),Mt=(0,q.M)({entityId:An===H.s.COMMENTS?gt:"",entityType:J.TY.FileVersion}),Nt=Mt.canFetchMoreComments,Ft=Mt.commentsQuery,Tt=Mt.onFetchMoreComments,Pt=Mt.onHideReplies,Rt=Mt.onShowReplies,qt=Mt.parentComment,Lt=Mt.pushoverMode;(0,w.useEffect)((function(){pn&&Pt(null)}),[pn,Pt]);var _t=(0,w.useMemo)((function(){return(0,m.H3)(Vn||"#f8fafc")<.5}),[Vn]),At=(0,C.aM)({query:V.mT,variables:{id:jn},pause:!jn||An!==H.s.COMMENTS}),Ut=(0,r.Z)(At,1)[0],Zt=(0,w.useState)(!1),Dt=Zt[0],Gt=Zt[1],Bt=(0,w.useCallback)((function(){return Gt(!0)}),[]),Vt=(0,w.useCallback)((function(){return Gt(!1)}),[]);(0,w.useEffect)((function(){Vt()}),[Lt,Vt]);var Kt=(0,w.useCallback)((function(e){return function(){An!==e&&((0,u.Z9)(new u.lF({location:e})),mt(e)())}}),[An,mt]);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(b.default,{children:(0,$.jsx)("title",{children:(null==Ie?void 0:Ie.name)||"Animation"})}),(0,$.jsxs)(y.o,{headerControl:(0,$.jsx)(Z.s,{features:null==Ie?void 0:Ie.features,children:(0,$.jsx)(pe,{animation:Ie,animationFetching:Pn.fetching})}),contentWrapperCssClasses:"flex overflow-hidden flex-grow",children:[Ie&&(0,$.jsxs)(Z.s,{features:Ie.features,children:[(0,$.jsxs)(g.I,{className:f()({"flex flex-grow":!0}),handle:st,onChange:xt,children:[(0,$.jsx)("div",{className:f()({"relative flex flex-grow ":!0,"transparency-grid":it}),children:(0,$.jsxs)("div",{className:"relative flex w-full h-full",children:[(0,$.jsx)("div",{className:f()({"absolute inset-0 flex flex-grow ":!0,"transparency-grid":it}),style:{background:Vn}}),An===H.s.LOTTIE_MOCKUP?(0,$.jsx)("div",{className:"relative flex items-center justify-center w-full h-full overflow-auto pr-80",children:(0,$.jsx)(fe,{animation:Ie,canEdit:Jn()})}):(0,$.jsxs)("div",{className:f()("relative flex items-center justify-center w-full h-full overflow-auto",{"pr-80":An!==H.s.NONE}),children:[ye&&!Ue&&(0,$.jsx)(me,{showComments:!0,canComment:!zn,mentionables:null===(x=Ut.data)||void 0===x?void 0:x.commentMentionableUsers,portalRoot:wt.current,animationUrl:ye,currentDiscussion:qt,currentUserId:null===(E=On.user)||void 0===E?void 0:E.id,entityId:gt,entityType:J.TY.FileVersion,controls:!rt,isLight:_t,onDeleteComment:Ct,onEditComment:Et,onPostComment:yt,onReplyToComment:jt,onResolveComment:Ot,onSelectReaction:St,onUnresolveComment:It}),ye&&sn&&(0,$.jsx)(me,{portalRoot:wt.current,animationUrl:sn,controls:!rt,isLight:_t}),!rt&&(0,$.jsxs)("div",{className:f()("absolute top-0 bottom-0 flex flex-col pt-4 md:pt-8 pr-4 md:pr-8 pb-14 min-h-0",{"right-0":An===H.s.NONE,"right-86":An!==H.s.NONE}),children:[(0,$.jsxs)("div",{className:"flex flex-col space-y-2","data-onboarding-id":"anim-panel-btn",children:[Yn()&&(0,$.jsx)("div",{"data-onboarding-id":"anim-comment-btn",children:(0,$.jsx)(M.n,{icon:"comment",title:"Comments",shortcut:(0,$.jsx)(I.z,{keys:["C"]}),onClick:Kt(H.s.COMMENTS),iconColorClass:An===H.s.COMMENTS?"text-actionPrimary":"text-gray-600"})}),(0,$.jsx)(M.n,{icon:"info",title:"Animation information",onClick:Kt(H.s.FILE_INFO),iconColorClass:An===H.s.FILE_INFO?"text-actionPrimary":"text-gray-600"}),Jn()&&!zn&&(0,$.jsx)("div",{"data-onboarding-id":"anim-color-palette-btn",children:(0,$.jsx)(M.n,{icon:"color-palette",title:"Color Palette",onClick:Kt(H.s.COLOR_PALETTES),iconColorClass:An===H.s.COLOR_PALETTES?"text-actionPrimary":"text-gray-600"})}),!zn&&(0,$.jsx)("div",{"data-onboarding-id":"anim-segment-btn",children:(0,$.jsx)(M.n,{icon:"segment-mockup",title:"Segments & Mockups",onClick:Kt(H.s.SEGMENT_MOCKUP),iconColorClass:An===H.s.SEGMENT_MOCKUP?"text-actionPrimary":"text-gray-600"})}),Jn()&&(0,$.jsx)("div",{"data-onboarding-id":"anim-version-btn",children:(0,$.jsx)(M.n,{icon:"history",title:"Version History",onClick:Kt(H.s.VERSIONS),iconColorClass:An===H.s.VERSIONS?"text-actionPrimary":"text-gray-600"})}),Hn()&&!zn&&(0,$.jsx)(M.n,{icon:"embed",title:"Handoff & Embed",iconColorClass:An===H.s.EMBED?"text-actionPrimary":"text-gray-600",onClick:Kt(H.s.EMBED)})]}),(0,$.jsxs)("div",{className:"flex flex-col pt-2 pb-4 space-y-2 md:mt-auto md:py-0",children:[(0,$.jsx)(j.s,{}),(0,$.jsx)(M.n,{icon:"grid",title:"Transparency grid",onClick:bt,iconColorClass:it?"text-actionPrimary":"text-gray-600"}),(0,$.jsx)(de,{animationBackgroundColor:Vn,canUpdate:Jn(),onChange:function(e){Kn(e)},fileId:Ie.id,portalRoot:wt.current}),(0,$.jsx)(M.n,{icon:"full-screen",title:"Full screen",onClick:ht,iconColorClass:rt?"text-actionPrimary":"text-gray-600"}),(0,$.jsx)(O.L,{})]})]})]})]})}),(0,$.jsx)("div",{className:"absolute bottom-0 right-0 flex flex-grow overflow-hidden top-16","data-onboarding-watch":"side_panel",children:(0,$.jsxs)(s.uT,{show:An!==H.s.NONE,className:f()("relative flex flex-col bg-white border-l border-gray-100 w-86",{"pb-24":Cn.show}),enter:"transform transition ease-in-out duration-50",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-50",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:[An!==H.s.LOTTIE_MOCKUP&&(0,$.jsx)("div",{className:"absolute right-6 top-6",children:(0,$.jsx)(S.h,{name:"cross",onClick:ft,small:!0,iconLighter:!0})}),An===H.s.COMMENTS&&(0,$.jsx)(ce,{currentUserId:null===(ve=On.user)||void 0===ve?void 0:ve.id,discussions:null===(he=Ft.data)||void 0===he||null===(xe=he.comments)||void 0===xe?void 0:xe.edges,isFetchingDiscussions:Ft.fetching,isInputExpanded:Dt,mentionables:null===(be=Ut.data)||void 0===be?void 0:be.commentMentionableUsers,mode:Lt,parentDiscussion:qt,canFetchMoreComments:Nt,onCollapseInput:Vt,onFetchMoreComments:Tt,onExpandInput:Bt,onDelete:Ct,onEdit:Et,onPost:yt,onReply:jt,onReplyClick:Rt,onResolve:Ot,onSelectReaction:St,onUnresolve:It}),An===H.s.FILE_INFO&&Fe&&(0,$.jsx)(ue,{fileMetaData:Fe,basicMetadata:Re,fileData:$n,canEdit:Jn(),canDownload:Hn(),isEditing:Boolean(Jn()&&Xe),fileUrl:ye,tags:on,fileVersionId:Ie.currentVersion.id,pageSource:"animation details page",thumbnailUrl:null==Ge||null===(we=Ge.thumbnails)||void 0===we||null===(ge=we.png)||void 0===ge||null===(ke=ge.medium)||void 0===ke?void 0:ke.url,animation:Ie,workspaceId:Ie.project.workspaceId}),An===H.s.COLOR_PALETTES&&(0,$.jsx)(se,{animationUrl:ye,portalRoot:wt.current,workspaceId:Ie.project.workspaceId,setColorModifiedLottie:Gn,setOpenColorPaletteModal:We}),An===H.s.LOTTIE_MOCKUP&&(0,$.jsx)(le,{canEdit:Jn(),animation:Ie,onBackToLottieMockupList:Kt(H.s.SEGMENT_MOCKUP)}),An===H.s.SEGMENT_MOCKUP&&(0,$.jsx)(ie,{animation:Ie,showLottieMockup:Kt(H.s.LOTTIE_MOCKUP)}),An===H.s.VERSIONS&&(0,$.jsx)(ae,{onVersionSelected:function(){Ze(null),He()},animation:Ie}),An===H.s.EMBED&&(0,$.jsx)(oe,{canUpdatePublicAsset:Jn(),fileId:Ie.id,currentVersionId:Ie.currentVersionId,workspaceId:Ie.project.workspaceId}),An===H.s.QRCODE&&(0,$.jsx)(re,{fileUrl:Ie.fileObject.url}),An===H.s.DOWNLOAD&&Re&&(0,$.jsx)(te,{animation:Ie,basicMetadata:Re,fileMetaData:Fe,source:"animation"})]})}),(0,$.jsx)("div",{ref:wt})]}),Ke&&Ue&&Ge&&(0,$.jsx)(ne,{currentFile:Ge,currentFileId:null==Ie?void 0:Ie.id,projectId:null==Ie||null===(Ce=Ie.project)||void 0===Ce?void 0:Ce.id,lottieAnimation:v()(Ue),closeCallback:function(){We(!1)},animationName:null==Ie?void 0:Ie.name,currentBackgroundColor:(null==Ie?void 0:Ie.backgroundColor)||"none",show:!0})]}),Ie&&yn&&!vt.fetching&&vt.data&&(0,$.jsx)(ee,{animation:Ie,handback:vt.data.fileHandback})]})]})};ve.getLayout=function(e){return(0,$.jsx)(E.By,{collapsed:!0,children:e})},n.default=ve},11957:function(e,n,t){t.d(n,{s:function(){return l},w:function(){return s}});var r=t(62295),o=t(29901),a=t(61250),i=o.createContext({features:[]}),l=function(e){var n=e.children,t=e.features;return(0,a.jsx)(i.Provider,{value:{features:t},children:n})},s=function(){var e=o.useContext(i).features;return e?new r.UZ(e):new r.UZ([])}},30337:function(e,n,t){t.d(n,{w:function(){return a}});var r=t(31380),o={"Access denied!":function(e){var n,t,o,a,i,l=null!==(n=null==e||null===(t=e.extensions)||void 0===t?void 0:t.code)&&void 0!==n?n:"",s=null!==(o=null==e||null===(a=e.extensions)||void 0===a||null===(i=a.exception)||void 0===i?void 0:i.stacktrace)&&void 0!==o?o:[];throw console.log("Error code:",l),console.log("Stacktrace:",s),new r.J},"Database query failed":function(e){var n,t,o,a,i,l=null!==(n=null==e||null===(t=e.extensions)||void 0===t?void 0:t.code)&&void 0!==n?n:"",s=null!==(o=null==e||null===(a=e.extensions)||void 0===a||null===(i=a.exception)||void 0===i?void 0:i.stacktrace)&&void 0!==o?o:[];throw console.log("Error code:",l),console.log("Stacktrace:",s),new r.J},Forbidden:function(e){var n,t,o,a,i,l=null!==(n=null==e||null===(t=e.extensions)||void 0===t?void 0:t.code)&&void 0!==n?n:"",s=null!==(o=null==e||null===(a=e.extensions)||void 0===a||null===(i=a.exception)||void 0===i?void 0:i.stacktrace)&&void 0!==o?o:[];throw console.log("Error code:",l),console.log("Stacktrace:",s),new r.J}};function a(e){e.networkError?console.error("Network error:",e.networkError):e.graphQLErrors&&e.graphQLErrors.length>0?e.graphQLErrors.forEach((function(e){var n,t=e.message,r=Object.keys(o).find((function(e){return t.includes(e)}));r?null===(n=o[r])||void 0===n||n.call(o,e):console.error("GraphQL error:",e)})):console.error("Unknown error:",e)}},34742:function(e,n,t){t.d(n,{I:function(){return f},r:function(){return d}});var r=t(29901),o={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},a=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],i=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],l=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},u="fullscreenEnabled"in s&&Object.keys(o)||a[0]in s&&a||i[0]in s&&i||l[0]in s&&l||[],c={requestFullscreen:function(e){return e[u[o.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[u[o.requestFullscreen]]},get exitFullscreen(){return s[u[o.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+u[o.fullscreen]},addEventListener:function(e,n,t){return s.addEventListener(u[o[e]],n,t)},removeEventListener:function(e,n,t){return s.removeEventListener(u[o[e]],n,t)},get fullscreenEnabled(){return Boolean(s[u[o.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[u[o.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+u[o.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+u[o.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+u[o.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+u[o.fullscreenerror]).toLowerCase()]=e}};function d(){var e=(0,r.useState)(!1),n=e[0],t=e[1],o=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=function(){t(c.fullscreenElement===o.current)};return c.addEventListener("fullscreenchange",e),function(){return c.removeEventListener("fullscreenchange",e)}}),[]);var a=(0,r.useCallback)((function(){return c.fullscreenElement?c.exitFullscreen().then((function(){return c.requestFullscreen(o.current)})):o.current?c.requestFullscreen(o.current):void 0}),[]),i=(0,r.useCallback)((function(){return c.fullscreenElement===o.current?c.exitFullscreen():Promise.resolve()}),[]);return(0,r.useMemo)((function(){return{active:n,enter:a,exit:i,node:o}}),[n,a,i])}var f=function(e){var n=e.handle,t=e.onChange,o=e.children,a=e.className,i=[];return a&&i.push(a),i.push("fullscreen"),n.active&&i.push("fullscreen-enabled"),(0,r.useEffect)((function(){t&&t(n.active,n)}),[n.active]),r.createElement("div",{className:i.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},o)}}}]);