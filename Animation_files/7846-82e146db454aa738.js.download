"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7846],{30891:function(e,n,o){o.d(n,{X:function(){return h}});var t=o(77916),l=o(51848),a=o(83849),i=o.n(a),s=o(29901),r=o(95893),c=o(99897),d=o(61250),u=["disabled","label","required","valueLabel","id","onChange","name","additionalClasses","checkboxSize","labelClass","layoutClasses","icon","indeterminate"];function m(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function f(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?m(Object(o),!0).forEach((function(n){(0,t.Z)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}var h=function(e){var n=e.disabled,o=(e.label,e.required),t=e.valueLabel,a=void 0===t?"":t,m=e.id,h=void 0===m?(0,r.ZP)("checkbox-"):m,p=e.onChange,v=e.name,b=e.additionalClasses,g=e.checkboxSize,x=void 0===g?"small":g,w=e.labelClass,C=void 0===w?"text-sm":w,j=e.layoutClasses,k=void 0===j?"inline-flex items-center justify-center space-x-1":j,y=e.icon,M=e.indeterminate,S=void 0!==M&&M,I=(0,l.Z)(e,u),L=(0,s.useState)(!1),N=L[0],O=L[1],A=(0,s.useState)(!1),P=A[0],E=A[1],D=(0,s.useState)(null),_=D[0],F=D[1],U=(0,s.useCallback)((function(){O(!0)}),[]),B=(0,s.useCallback)((function(){O(!1)}),[]);(0,s.useEffect)((function(){_&&(_.indeterminate=!!S)}),[_,S]);var Z=(0,s.useCallback)((function(e){e.stopPropagation(),p(e.target.checked),e.target.checked?E(!0):E(!1)}),[E,p]),T=(0,d.jsxs)("div",{className:"".concat(k," ").concat(b),children:[(0,d.jsxs)("div",{className:i()({"relative inset-x-0 items-center":!0,"h-5 w-5 min-h-[1rem]":"extra-small"===x,"h-6 w-6 min-h-[1.75rem]":"small"===x,"h-10 w-10 min-h-[2.5rem] min-w-[2.5rem]":"large"===x}),children:[N&&(0,d.jsx)("div",{className:i()({"absolute inset-0 m-auto rounded-full bg-gray-100":!0,"bg-teal-100":P,"h-5 w-5":"extra-small"===x,"h-6 w-6":"small"===x,"h-9 w-9":"large"===x})}),(0,d.jsx)("input",f(f({name:v||h,ref:F,type:"checkbox",id:h,required:o,disabled:n,"aria-labelledby":"label-".concat(h),onChange:Z,onClick:function(e){e.stopPropagation()}},I),{},{className:i()({"bg-gray-100 text-gray-300 cursor-not-allowed":n,"absolute inset-0 m-auto border focus:ring-teal-300 focus:ring-offset-0 text-actionPrimary border-gray-300 bg-gray-100 hover:cursor-pointer checkbox":!0,indeterminate:S,"h-3 w-3 rounded-3":"extra-small"===x,"h-4 w-4 rounded-3":"small"===x,"h-6 w-6 rounded-5":"large"===x}),onMouseEnter:U,onMouseLeave:B}))]}),(0,d.jsxs)("label",{id:"label-".concat(h),htmlFor:h,className:i()(C,{"font-medium text-gray-500 dark:text-gray-300 flex flex-row items-center justify-start ml-0":!0}),children:[y&&(0,d.jsx)(c.J,{name:y,color:"text-gray-400",small:!0,className:"h-[16px] -ml-1"}),(0,d.jsx)("span",{className:"ml-1",children:a})]})]});return(0,d.jsx)(d.Fragment,{children:T})}},97846:function(e,n,o){o.r(n),o.d(n,{GridView:function(){return F},default:function(){return U}});var t=o(29901),l=o(24161),a=o(59715),i=o(62295),s=o(46717),r=o(83849),c=o.n(r),d=o(90410),u=o(45158),m=o(43601),f=o(35948),h=o(61250),p=(0,s.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),v=function(e){var n=e.workspaceId,o=(0,a.SS)(i.AD.FILE_UPLOAD_LIMIT),l=(0,m.Z)({workspaceId:n}).onClick,s=(0,f.g)(n).planName,r=(0,t.useState)(!1),d=r[0],u=r[1],v=(0,t.useCallback)((function(){u(!0)}),[]),b=(0,t.useCallback)((function(){u(!1)}),[]);return(0,h.jsx)("div",{onMouseEnter:v,onMouseLeave:b,className:c()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:d&&(0,h.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,h.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",o.value," most recently created files on your current ",s,". Upgrade to access all your files."]}),(0,h.jsx)(p,{onClick:l,children:"Upgrade"})]})})},b=function(e){var n,o,t,l,a,i,s,r=e.animation,c=e.disableMenu,m=e.isSelected,f=e.onClick,p=e.onSelectionChange,b=e.selectable,g=e.selectionMode,x=e.showAddToCollection,w=e.showStatus,C=void 0===w||w,j=e.showUpdatedUser,k=e.workspaceId,y=(0,u.Q)(k);return(0,h.jsxs)("div",{className:"relative rounded-md",children:[y.length>0&&!y.includes(r.id)&&(0,h.jsx)(v,{workspaceId:r.project.workspaceId}),(0,h.jsx)(d.K,{scopes:r.animationPermissionScopes,animation:r,backgroundColor:r.backgroundColor,thumbnail:null===(n=r.fileObject)||void 0===n||null===(o=n.thumbnails)||void 0===o||null===(t=o.webp)||void 0===t||null===(l=t.medium)||void 0===l?void 0:l.url,title:r.name,url:null===(a=r.fileObject)||void 0===a?void 0:a.url,showUpdatedUser:j,username:r.modifiedBy?r.modifiedBy.name:null===(i=r.createdBy)||void 0===i?void 0:i.name,project:null===(s=r.project)||void 0===s?void 0:s.title,date:r.updatedAt,selectable:b,selected:m,onSelectionChange:p,selectionMode:g,showStatus:C,status:r.status,onClick:f,disableMenu:c,showAddToCollection:x,upgradeRequired:y.length>0&&!y.includes(r.id)})]})},g=o(55312),x=o(24642),w=o.n(x),C=o(88406),j=o(42503),k=o(64229),y=o(50719),M=o(30891),S=o(93065),I=o(41404),L=o(13485),N=(0,C.default)((0,g.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([o.e(7255),o.e(7767),o.e(2762),o.e(9421),o.e(4284),o.e(5452),o.e(6540),o.e(4765),o.e(2430),o.e(676)]).then(o.bind(o,76189)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[76189]},modules:["../components/ui/cards/creator-card.tsx -> @/components/ui/cards/file-card-metadata"]}}),O=function(e){var n,o,l,a,i,s,r,d,u,m,f,p=e.disableMenu,v=void 0!==p&&p,b=e.file,g=e.isSelected,x=void 0!==g&&g,w=e.onClick,C=e.onSelectionChange,O=e.selectable,A=void 0!==O&&O,P=e.selectionMode,E=void 0!==P&&P,D=(0,t.useState)(!1),_=D[0],F=D[1],U=(0,t.useState)(!1),B=U[0],Z=U[1],T=(0,S.a)({scopes:b.animationPermissionScopes||[]}).canFullAccess,q=(0,t.useCallback)((function(){Z(!1)}),[]),z=(0,t.useCallback)((function(){C&&C()}),[C]),H=(0,t.useCallback)((function(){F(!0)}),[F]),K=(0,t.useCallback)((function(){F(!1)}),[F]),R=(0,t.useCallback)((function(){T()&&Z(!0)}),[T]),V=(0,t.useCallback)((function(e){if(E&&C)C();else if(w){var n=L.Mq?e.metaKey:e.ctrlKey;w(n)}}),[C,w,E]),Q=(0,t.useCallback)((function(e){if("Space"===e.key)if(E&&C)C();else if(w){var n=L.Mq?e.metaKey:e.ctrlKey;w(n)}}),[w,C,E]),W=(0,I.h)(V,R);return(0,h.jsxs)("div",{className:"relative z-0 group w-full aspect-square",onMouseEnter:H,onMouseLeave:K,children:[(0,h.jsx)("svg",{className:c()("absolute inset-0 w-full h-full",{"creator-drop-shadow":_}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:(0,h.jsx)("path",{fill:"white",id:"Vector_2",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881",stroke:"rgba(217, 224, 230, 1)"})}),(0,h.jsxs)("div",{className:"absolute inset-0 h-full w-full",children:[(0,h.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,h.jsx)("div",{onKeyDown:Q,onClick:V,className:"absolute inset-0 z-10 cursor-pointer"}),(0,h.jsx)("div",{className:"h-full p-4 -mx-2 border-b border-gray-50",children:(0,h.jsx)("div",{className:"h-full mx-auto transparency-grid-square",children:(0,h.jsx)(k.y,{src:(null===(n=b.fileObject)||void 0===n||null===(o=n.thumbnails)||void 0===o||null===(l=o.webp)||void 0===l||null===(a=l.medium)||void 0===a?void 0:a.url)||(null===(i=b.fileObject)||void 0===i||null===(s=i.thumbnails)||void 0===s||null===(r=s.png)||void 0===r||null===(d=r.medium)||void 0===d?void 0:d.url)})})})]}),(0,h.jsx)(N,{showActionsMenu:_,animation:b,isMenuDisabled:v,onTitleClick:W,showFilledIcon:_,projectName:null===(u=b.project)||void 0===u?void 0:u.title,showAddToCollection:!1,title:b.name,updatedDate:b.updatedAt,showUpdatedUser:!0,username:b.modifiedBy?"".concat(null===(m=b.modifiedBy)||void 0===m?void 0:m.firstName):"".concat(null===(f=b.createdBy)||void 0===f?void 0:f.firstName)})]}),(0,h.jsxs)("svg",{className:c()("absolute inset-0 w-full h-full pointer-events-none",{"text-actionPrimary":x,"text-gray-100":!x}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:[(0,h.jsxs)("g",{"clip-path":"url(#clip0_5690_42434)",children:[(0,h.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",fill:"white"}),(0,h.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",stroke:"rgba(217, 224, 230, 1)"}),x?(0,h.jsx)("path",{d:"M190.5 19.5C190.5 19.5 174.067 2 172.5 2L6.99945 1.5C1.50057 1.5 1.50002 1.5 1.50002 6.79112L1.5 201.5C1.5 208.5 1.5 208.5 7 208.5H203C208.5 208.5 208.5 208.5 208.5 203.137V39.9853C208.5 38.394 207.868 36.8679 206.743 35.7426L190.5 19.5Z",stroke:"currentColor","stroke-width":"3"}):(0,h.jsx)("path",{fill:"none",stroke:"currentColor",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881"})]}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip0_5690_42434",children:(0,h.jsx)("rect",{width:"210",height:"210",fill:"white"})})})]}),(0,h.jsx)("div",{className:"absolute z-20 flex justify-between w-full pr-2 top-2 right-0",children:(0,h.jsx)(y.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(_&&A||x||E)&&T()&&(0,h.jsx)(M.X,{label:"check-card",checked:x,onChange:z})})}),(0,h.jsx)(j.default,{show:B,animationId:b.id,animationName:b.name,close:q})]})},A=o(47381),P=o(49736),E=o(97643),D=o(89012),_=o(34916),F=function(e){var n=e.canLoadMore,o=void 0!==n&&n,a=e.files,i=e.isLoadingMore,s=void 0!==i&&i,r=e.onLoadMore,c=void 0===r?function(){}:r,d=e.onSelectionChange,u=e.onFolderDownloadAllClick,m=e.selectable,f=void 0!==m&&m,p=e.selectedAnimations,v=e.selectionMode,g=e.showUpdatedUser,x=void 0===g||g,w=e.showAddToCollection,C=void 0!==w&&w,j=e.showStatus,k=void 0===j||j,y=e.onItemClick,M=e.workspaceId,S=(0,l.useRecoilValue)(D.Y),I=(0,E.S)({onIntersecting:c}),L=(0,t.useCallback)((function(e){return function(){d&&d(e.id)}}),[d]),N=(0,t.useCallback)((function(e){return function(n){return y(e,n)}}),[y]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:[a.map((function(e){var n,o,t="file-card-".concat(e.id);return(0,_.qR)(e)?(0,h.jsx)(P.A,{onClick:N(e),title:e.name,username:(null===(n=e.modifiedBy)||void 0===n?void 0:n.name)||(null===(o=e.createdBy)||void 0===o?void 0:o.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:u,selectable:f,selectionMode:v,onSelectionChange:L(e),isSelected:!!p&&Boolean(p.some((function(n){return n.id===e.id})))},t):(0,_.QR)(e)?(0,h.jsx)(b,{animation:e,showUpdatedUser:x,showStatus:k,selectable:f,isSelected:!!p&&Boolean(p.some((function(n){return n.id===e.id}))),onSelectionChange:L(e),selectionMode:v,onClick:N(e),disableMenu:S>0,showAddToCollection:C,workspaceId:M},t):(0,_.xK)(e)?(0,h.jsx)(O,{file:e,onClick:N(e),selectable:f,onSelectionChange:L(e),isSelected:!!p&&Boolean(p.includes(e)),disableMenu:S>0,selectionMode:v}):(0,h.jsx)(h.Fragment,{})})),s&&(0,h.jsx)(A.a,{type:"spinner"})]}),o&&!s&&(0,h.jsx)("span",{ref:I})]})},U=F},45158:function(e,n,o){o.d(n,{Q:function(){return d}});var t=o(89303),l=o(29901),a=o(389),i=o(98326),s=o(18807),r=o(80303),c=o(13485),d=function(e){var n=(0,i.hp)(e),o=(0,c.fK)(n),d=(0,a.aM)({query:s.Z$,pause:!e||!n||!o||o!==r.Q.FREE,variables:{workspaceId:e}}),u=(0,t.Z)(d,1)[0];return(0,l.useMemo)((function(){var e;return o===r.Q.FREE&&(null===(e=u.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[u,o])}},43601:function(e,n,o){var t=o(89303),l=o(59715),a=o(62295),i=o(29901),s=o(389),r=o(98082),c=o(18807);n.Z=function(e){var n,o,d=e.workspaceId,u=(0,l.SS)(a.AD.FILE_UPLOAD_LIMIT),m=(0,s.aM)({query:c.wG,variables:{workspaceId:d},pause:!d}),f=null!==(n=null===(o=(0,t.Z)(m,1)[0].data)||void 0===o?void 0:o.fileCountByWorkspaceId)&&void 0!==n?n:0,h=u?Math.min(Math.round(f/u.value*100),100):0,p=h<80,v=h>=80&&h<=90,b=h>90,g=function(e){e.stopPropagation(),e.preventDefault(),p?(0,r.Z)({source:a.pj.FILE_UPLOAD_LIMIT,workspaceId:d}):v?(0,r.Z)({source:a.pj.FILE_UPLOAD_LIMIT_ALMOST_REACHED,workspaceId:d}):(0,r.Z)({source:a.pj.FILE_UPLOAD_LIMIT_EXCEEDED,workspaceId:d})};return(0,i.useMemo)((function(){return{fileCount:f,percentage:h,isDefaultState:p,isWarningState:v,isDangerState:b,onClick:g}}),[f,h,p,v,b,g])}}}]);